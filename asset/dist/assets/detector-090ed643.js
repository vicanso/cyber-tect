import{x as n,P as v,Q as L,R as b,T as A,S as P,U,V as B,W as I,X as j,Y as N,Z as Q,_ as F,$ as k,a0 as x,a1 as z,a2 as G,a3 as H,a4 as $}from"./index-aeeb7070.js";import{j as r,b as c}from"./ui-32540f7e.js";const m=r({processing:!1,items:[],count:-1}),u=r({processing:!1,items:[],count:-1}),g=r({processing:!1,items:[],count:-1}),l=r({processing:!1,items:[],count:-1}),f=r({processing:!1,items:[],count:-1}),D=r({processing:!1,items:[],count:-1}),d=r({processing:!1,items:[],count:-1}),p=r({processing:!1,items:[],count:-1}),y=r({processing:!1,items:[],count:-1}),T=r({processing:!1,items:[],count:-1}),R=r({processing:!1,items:[],count:-1}),S=r({processing:!1,items:[],count:-1});function C(s,t,e){const a=Number(s.offset),o=Number(s.limit);t.count=a+o,!(!t[e]||!t[e].length)&&t[e].length%o===0&&(t.count=t.count+1)}async function V(s){const{data:t}=await n.get($,{params:{keyword:s,limit:20}});return t.accounts||[]}const _=()=>({order:"-updatedAt"}),O=()=>({order:"-updatedAt",ignoreCount:"true"});async function W(s){if(!g.processing){g.processing=!0;try{const{data:t}=await n.get(L,{params:Object.assign(_(),s)}),e=t.count||0;e>=0&&(g.count=e),g.items=(t.httpDetectors||[]).map(a=>(a.randomQueryString||(a.randomQueryString=2),a))}finally{g.processing=!1}}}async function X(s){if(!l.processing){l.processing=!0;try{const{data:t}=await n.get(b,{params:Object.assign(_(),s)}),e=t.count||0;e>=0&&(l.count=e),l.items=t.dnsDetectors||[]}finally{l.processing=!1}}}async function Y(s){if(!f.processing){f.processing=!0;try{const{data:t}=await n.get(A,{params:Object.assign(_(),s)}),e=t.count||0;e>=0&&(f.count=e),f.items=t.tcpDetectors||[]}finally{f.processing=!1}}}async function Z(s){if(!D.processing){D.processing=!0;try{const{data:t}=await n.get(P,{params:Object.assign(_(),s)}),e=t.count||0;e>=0&&(D.count=e),D.items=t.pingDetectors||[]}finally{D.processing=!1}}}async function J(s){if(!d.processing){d.processing=!0;try{const{data:t}=await n.get(U,{params:Object.assign(_(),s)}),e=t.count||0;e>=0&&(d.count=e),d.items=t.databaseDetectors||[]}finally{d.processing=!1}}}async function tt(s){const{data:t}=await n.get(B.replace(":id",s.toString()));return t.randomQueryString||(t.randomQueryString=2),t}async function st(s){const{data:t}=await n.get(I.replace(":id",s.toString()));return t}async function et(s){const{data:t}=await n.get(j.replace(":id",s.toString()));return t}async function nt(s){const{data:t}=await n.get(N.replace(":id",s.toString()));return t}async function at(s){const{data:t}=await n.get(Q.replace(":id",s.toString()));return t}async function ct(s,t){const{data:e}=await n.patch(B.replace(":id",s.toString()),t);return e}async function rt(s,t){const{data:e}=await n.patch(I.replace(":id",s.toString()),t);return e}async function ot(s,t){const{data:e}=await n.patch(j.replace(":id",s.toString()),t);return e}async function it(s,t){const{data:e}=await n.patch(N.replace(":id",s.toString()),t);return e}async function ut(s,t){const{data:e}=await n.patch(Q.replace(":id",s.toString()),t);return e}async function pt(s){const{data:t}=await n.post(L,s);return t}async function gt(s){const{data:t}=await n.post(b,s);return t}async function lt(s){const{data:t}=await n.post(A,s);return t}async function ft(s){const{data:t}=await n.post(P,s);return t}async function Dt(s){const{data:t}=await n.post(U,s);return t}async function dt(s){if(!p.processing){p.processing=!0;try{const{data:t}=await n.get(F,{params:Object.assign(O(),s)});C(s,t,"httpDetectorResults"),p.items=t.httpDetectorResults||[],p.items.forEach(e=>{e.results&&e.results.forEach(a=>{const o=a.certificateExpirationDates;o&&o.length===2&&(a.certificateExpirationDates=[o[0].substring(0,10),o[1].substring(0,10)]);const h={TOTAL:a.duration,DNS:a.dnsLookup,TCP:a.tcpConnection,TLS:a.tlsHandshake,PROCESSING:a.serverProcessing,TRANSFER:a.contentTransfer},i=[];Object.keys(h).forEach(E=>{const w=h[E];w&&i.push(`${E}: ${w}`)}),a.timeline=i})}),p.count=t.count}finally{p.processing=!1}}}async function yt(s){if(!y.processing){y.processing=!0;try{const{data:t}=await n.get(k,{params:Object.assign(O(),s)});C(s,t,"tcpDetectorResults"),y.items=t.tcpDetectorResults||[],y.count=t.count}finally{y.processing=!1}}}async function Tt(s){if(!T.processing){T.processing=!0;try{const{data:t}=await n.get(x,{params:Object.assign(O(),s)});C(s,t,"pingDetectorResults"),T.items=t.pingDetectorResults||[],T.count=t.count}finally{T.processing=!1}}}async function Rt(s){if(!R.processing){R.processing=!0;try{const{data:t}=await n.get(z,{params:Object.assign(O(),s)});C(s,t,"dnsDetectorResults"),R.items=t.dnsDetectorResults||[],R.count=t.count}finally{R.processing=!1}}}async function St(s){if(!S.processing){S.processing=!0;try{const{data:t}=await n.get(G,{params:Object.assign(O(),s)});C(s,t,"databaseDetectorResults"),S.items=t.databaseDetectorResults||[],S.count=t.count}finally{S.processing=!1}}}async function Et(s){if(!u.processing){u.items.length=0,u.processing=!0;try{const{data:t}=await n.get(v+"?startedAt="+s.startedAt);t.summaries.forEach(e=>{const{category:a,count:o,result:h}=e;let i=u.items.find(E=>E.name==a);i||(i={name:a},u.items.push(i)),h.value===1?i.success=o:i.fail=o})}finally{u.processing=!1}}}async function mt(s){if(m.processing)return;const t=H.replace(":category",s);try{m.processing=!0;const{data:e}=await n.get(t);m.items=e.tasks}finally{m.processing=!1}}const q={httpDetectors:c(g),dnsDetectors:c(l),tcpDetectors:c(f),pingDetectors:c(D),databaseDetectors:c(d),httpDetectorResults:c(p),tcpDetectorResults:c(y),pingDetectorResults:c(T),dnsDetectorResults:c(R),databaseDetectorResults:c(S),detectorResultSummaries:c(u),detectorTasks:c(m)};function Ct(){return q}export{Rt as A,St as B,mt as C,W as a,ct as b,pt as c,st as d,X as e,rt as f,Et as g,tt as h,gt as i,Y as j,ot as k,lt as l,Z as m,it as n,ft as o,nt as p,at as q,J as r,ut as s,et as t,Ct as u,Dt as v,V as w,dt as x,yt as y,Tt as z};
