import{s as C,g as i,n as e}from"./index-aeeb7070.js";import{g as f,u as A}from"./detector-090ed643.js";import{u as p,d as r,r as m,s as B}from"./naive-094f875f.js";import{d as g,h as T,N as u,c as t}from"./ui-32540f7e.js";import"./common-a7d1cc73.js";const y=g({name:"HomeView",setup(){const a=p(),{detectorResultSummaries:c}=A();return T(()=>{f({startedAt:new Date(Date.now()-7*864e5).toISOString()}).catch(n=>{C(a,n)})}),{detectorResultSummaries:c}},render(){const{detectorResultSummaries:a}=this,d=[{route:e.detectorHTTP,name:"立即配置 HTTP 检测"},{route:e.detectorTCP,name:"立即配置 TCP 检测"},{route:e.detectorPing,name:"立即配置 Ping 检测"},{route:e.detectorDatabase,name:"立即配置 Database 检测"},{route:e.detectorDNS,name:"立即配置 DNS 检测"}].map(o=>u("li",{key:o.name},[u(r,{bordered:!1,onClick:()=>i(o.route,{replace:!1})},{default:()=>[o.name]})])),n={http:e.detectorHTTPResult,dns:e.detectorDNSResult,tcp:e.detectorTCPResult,ping:e.detectorPingResult,database:e.detectorDatabaseResult};let l=u("p",null,null);if(!a.processing)if(a.items.length!==0){const o=a.items.map(s=>{const F=E=>{const D={};E&&(D.result=E),i(n[s.name],{replace:!1,query:D})};return u("li",{key:s.name},[u(r,{bordered:!1,onClick:()=>F("")},{default:()=>[s.name.toUpperCase(),t("("),s.success+s.fail,t(")")]}),u(r,{bordered:!1,onClick:()=>F("1")},{default:()=>[t("成功("),s.success,t(")")]}),u(r,{bordered:!1,onClick:()=>F("2")},{default:()=>[t("失败("),s.fail,t(")")]})])});l=u("ul",null,[o])}else l=u("p",null,[t("当前账号未配置接收相关检测结果，请先配置监控检测或添加接收监控告警")]);return u("div",null,[u(m,{title:"简要说明"},{default:()=>[u("p",null,[t("CyberTect提供界面式的配置，可以快速配置HTTP接口、TCP端口、DNS域名解析、Ping以及各常用数据库的定时检测告警， 暂时告警仅通过邮件的形式通知，因此用户均需要在个人信息（顶部用户名处），维护接收邮箱。")]),u("ul",null,[d])]}),u("br",null,null),u(B,{show:a.processing},{default:()=>[u(m,{title:"最近7天检测"},{default:()=>[u("p",null,[t("最近7天各类型检测的结果汇总（仅包括已配置为接收告警的检测）")]),l]})]})])}});export{y as default};
