import{u as h,s as p,q as v,t as g,v as y}from"./index.14cddf8e.js";import{E as N}from"./ExLoading.befd655b.js";import{u as V,t as j,v as U,w as u,x as i,y as d,d as w,r as x}from"./naive.650dd42a.js";import{h as L,r as f,G as e,J as z}from"./ui.c327b114.js";import"./common.c9fa31ee.js";function E(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!z(t)}var M=L({name:"ProfileView",setup(){const t=V(),l=f(!1),s=f({}),o=async()=>{l.value=!0;try{const a=await h();s.value=a}catch(a){p(t,a)}finally{l.value=!1}},r=f({name:"",email:"",alarmURL:""}),n=async()=>{if(l.value)return;const{name:a,email:c,alarmURL:m}=r.value;if(!a&&!c&&!m){v(t,"\u4FE1\u606F\u65E0\u4FEE\u6539\u65E0\u9700\u8981\u66F4\u65B0");return}l.value=!0;try{await g({name:a,email:c,alarmURL:m}),y(t,"\u5DF2\u6210\u529F\u66F4\u65B0\u4FE1\u606F\u3002")}catch(b){p(t,b)}finally{l.value=!1}};return o(),{processing:l,detail:s,form:r,update:n}},render(){const{processing:t,detail:l,form:s,update:o}=this;if(t&&!l.account)return e(N,null,null);let r="\u66F4\u65B0";t&&(r="\u66F4\u65B0\u4E2D..");const n="large";return e(x,{title:"\u4E2A\u4EBA\u4FE1\u606F"},{default:()=>[e(j,null,{default:()=>[e(U,{xGap:24},{default:()=>[e(u,{span:12},{default:()=>[e(i,{label:"\u7528\u6237\uFF1A"},{default:()=>[e(d,{placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D\u79F0",defaultValue:l.name,clearable:!0,size:n,onUpdateValue:a=>{s.name=a}},null)]})]}),e(u,{span:12},{default:()=>[e(i,{label:"\u90AE\u7BB1\u5730\u5740\uFF1A"},{default:()=>[e(d,{placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740",defaultValue:l.email,clearable:!0,size:n,onUpdateValue:a=>{s.email=a}},null)]})]}),e(u,{span:24},{default:()=>[e(i,{label:"\u544A\u8B66\u63A5\u6536\u5730\u5740\uFF1A"},{default:()=>[e(d,{placeholder:"\u8BF7\u8F93\u5165\u544A\u8B66\u63A5\u6536\u5730\u5740\uFF0C\u5982\u679C\u8981\u6E05\u9664\u5219\u8F93\u5165\u7A7A\u683C(\u672A\u914D\u7F6E\u5219\u53D1\u9001\u544A\u8B66\u4FE1\u606F\u81F3\u90AE\u7BB1)",defaultValue:l.alarmURL,clearable:!0,size:n,onUpdateValue:a=>{s.alarmURL=a}},null)]})]}),e(u,{span:24},{default:()=>[e(w,{class:"widthFull",size:n,onClick:o},E(r)?r:{default:()=>[r]})]})]})]})]})}});export{M as default};
